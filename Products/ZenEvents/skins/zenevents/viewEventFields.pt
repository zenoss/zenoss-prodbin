<html 
    tal:define="tableName string:eventdetail;
    evid request/evid;
    sesskey python:tableName+evid;
    params python:'&evid=%s' % evid;
    event python:here.getEventDetail(evid);
    fields event/getEventFields;
    "
    >
<tal:block metal:define-macro="eventTop">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title tal:content="string:Event: ${event/evid}"/>
    <link rel="stylesheet" type="text/css" 
        href="/zport/portal_skins/default_stylesheet" />
    <link rel="stylesheet" type="text/css"
        href="/zport/portal_skins/zenevents.css" />
    <script type="text/javascript" 
        src="/zport/portal_skins/zenmodelfuncs.js"></script>
    <script type="text/javascript" 
        src="/zport/js/MochiKit.js"></script>
</head>
<tal:block metal:define-macro="eventTabs">
<div id="tabsPane">
<table class=" zentable" cellspacing="1">
    <tr>
        <td class="tabletitle" colspan=3 
            tal:content="string:Event: ${evid}">
        </td>
    </tr>
    <tr>
        <td class="tabletitle" colspan="1" align="center"
            tal:repeat="tab python:event.zentinelTabs(template.id)">
            <a class="tabletitle"
            tal:attributes="href python:tab['action']+'?evid=%s'%evid;
               class python:tab.get('selected',None) and 'tabletitleselected' or 'tabletitle'"
            tal:content="tab/name">
            TabName
            </a>
        </td>
    </tr>
</table>
</div>
<script>
var tt = document.getElementById("tabsPane")
if(tt) {
    tabs = tt.getElementsByTagName("a");
    for(var i=0; i<tabs.length; i++) {
        log("rounding element=",tabs[i]);
        roundElement(tabs[i],{corners:"tl tr"});
    }
}
</script>
</tal:block>
</tal:block>
<tal:block metal:define-macro="eventFields">
<table class=" zentable" cellpadding="3" cellspacing="1">
    <tr>
        <th class="tableheader">Field</th>
        <th class="tableheader">Value</th>
    </tr>
    <tr tal:repeat="field fields">
        <td class="tableheader" tal:content="python:field[0]">field</td>
        <td class=tablevalues tal:condition="python:field[0]!='message'"
            tal:content="python:field[1]">value</td>
        <td class="tablevalues" tal:condition="python:field[0]=='message'">
            <pre tal:content="python:field[1]"></pre></td>
    </tr>
</table>
</tal:block>
</html>
