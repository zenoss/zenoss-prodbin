<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">
<form method="post" tal:attributes="action here/getPrimaryUrlPath">
<input type="hidden" name="zenScreenName" tal:attributes="value template/id" /> 
<table class="zentable" cellpadding="3" cellspacing="1">
   <tr>
        <th class="tabletitle" colspan="4">Connection Information</th>
    </tr>
    <tr>
        <td class="tableheader" width="25%">Backend Type</td>
        <td class="tablevalues" tal:content="here/backend"/>
    </tr>
    <tr>
        <td class="tableheader">User Name</td>
        <td class="tablevalues"> 
            <input type='text' name='username' 
                tal:attributes='value here/username'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Password</td>
        <td class="tablevalues"> 
            <input type='password' name='password' 
                tal:attributes='value here/password'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Database</td>
        <td class="tablevalues"> 
            <input type='text' name='database' 
                tal:attributes='value here/database'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Hostname</td>
        <td class="tablevalues"> 
            <input type='text' name='host' 
                tal:attributes='value here/host'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Port</td>
        <td class="tablevalues"> 
            <input type='text' name='port:int' 
                tal:attributes='value here/port'>
        </td>
    </tr>
</table>
<br>
<table class="zentable" cellpadding="3" cellspacing="1">
   <tr>
        <th class="tabletitle" colspan="4">Cache</th>
    </tr>
    <tr>
        <td class="tableheader" width="25%">Cache Timeout</td>
        <td class="tablevalues"> 
            <input type='text' name='timeout:int' 
                tal:attributes='value here/timeout'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Cache Clear Count</td>
        <td class="tablevalues"> 
            <input type='text' name='clearthresh:int' 
                tal:attributes='value here/clearthresh'>
        </td>
    </tr>
    <tr>
        <td class="tableheader" width="25%">History Cache Timeout</td>
        <td class="tablevalues"> 
            <input type='text' name='history_timeout:int' 
                tal:attributes='value here/dmd/ZenEventHistory/timeout'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">History Cache Clear Count</td>
        <td class="tablevalues"> 
            <input type='text' name='history_clearthresh:int' 
                tal:attributes='value here/dmd/ZenEventHistory/clearthresh'>
        </td>
    </tr>
</table>
<br>
<table class="zentable" cellpadding="3" cellspacing="1">
   <tr>
        <th class="tabletitle" colspan="4">Maintenance</th>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Event Aging Interval (hours)
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='eventAgingHours:int' 
                   tal:attributes="value here/eventAgingHours"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Don't Age This Severity and Above
        </td>
        <td class="tableheader" colspan="2">
            <select class="tableheader" name="eventAgingSeverity:int">
                <option tal:repeat="sev here/getSeverities"
                    tal:content="python:sev[0]"
                    tal:attributes="value python:sev[1];
							selected python:sev[1] == here.eventAgingSeverity"
 							/>
            </select>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Default Availability Report (days)
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='defaultAvailabilityDays' 
                   tal:attributes="value here/defaultAvailabilityDays"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Default Priority
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='defaultPriority' 
                   tal:attributes="value here/defaultPriority"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader" width='25%'>
            Refresh Event Schema
        </td>
        <td class="tableheader" colspan="2">
            <input type='submit' value="Refresh Event Schema"
                name='manage_refreshConversions:method'>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Clear Event Cache
        </td>
        <td class="tableheader" colspan="2">
            <input type='submit' value="Clear Event Cache"
                name='manage_clearCache:method'>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Clear All Heartbeats
        </td>
        <td class="tableheader" colspan="2">
            <input type='submit' value="Clear Heartbeats"
                name='manage_clearHeartbeats:method'>
        </td>
    </tr>
</table>
<br>
<table class="zentable" cellpadding="3" cellspacing="1">
    <tr>
        <td class="tableheader" width='25%'>Save Changes</td>
        <td class="tableheader">
            <input type='submit' value="Save"
                name='manage_editEventManager:method'>
        </td>
    </tr>
</table>
</form>
</tal:block>
</tal:block>
