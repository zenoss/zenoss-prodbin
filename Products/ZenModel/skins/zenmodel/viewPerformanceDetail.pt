<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">

<form method="post"  metal:define-macro="objectperf"
    tal:attributes="action string:${here/absolute_url_path}/${template/id}">

<script src='zenrrdzoom.js' type='text/javascript'></script>

<table 
    onload="window.setTimeout('registerGraph()',100)"
    class="zentable" cellpadding=3 cellspacing=1
    tal:define="tableName string:perfdetail;
    drange python: here.ZenTableManager.setReqTableState(tableName,'drange',129600)">
    <input type='hidden' name='tableName' tal:attributes="value tableName" />
    <tr>
    <th class="tabletitle" align=left> 
        <a tal:content="here/viewName" 
        tal:attributes="href here/absolute_url_path">name</a>
        &nbsp;&nbsp;&nbsp;&nbsp;Range
        <select class="tableheader" name="drange:int" onchange="form.submit()">
            <option tal:repeat="r here/performanceDateRanges" 
                tal:content='python:r[0]' 
                tal:attributes="value python:r[1]; 
                                selected python:r[1]==drange"/>
        </select>
    <input class="tableheader" type="submit" value="Reset"
    style="margin-left:2em;"/>
    </th>

    <tr tal:condition='python: hasattr(here, "description") 
                        and getattr(here, "description")'>
        <td class=tabletitle tal:content="here/description">
            description
        </td>
    </tr>
    <span tal:repeat="graph python:here.getDefaultGraphs(drange=drange)">
    <tal:block tal:define="graphid string:graph_${repeat/graph/index}">
        <tr><td class="tableheader" tal:content="graph/title">title</td></tr>
        <tr><td class="tablevalues">
            <img src="_" 
            tal:attributes="src graph/url; 
                            id graphid"
            onclick="doZoom(event, this);"
            onload="registerGraph(this);"
            />
            </td>

        </tr>
    </tal:block>
    </span>
</table>
</form>
</tal:block>
</tal:block>
