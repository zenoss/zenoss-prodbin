<tal:block metal:define-macro="page"
    tal:define="zem python:here.ZenEventManager;
        severity request/severity | python:2;
        objects python:zem.getEventList(severity=severity);
        sortedHeader request/sortedHeader | string:;
        resultFields request/ev_resultfields | here/getResultFields | 
                        zem/defaultResultFields;
        filter request/filter | string:;
        evcolspan python:len(resultFields)+1;
        ztm here/ZenTableManager;
        objects python:ztm.filterObjects(objects,filter,resultFields);
        objects python:ztm.sortObjects(objects,request);
        batch python:ztm.getBatchForm(objects,request);">
    <tr tal:repeat="event batch" 
    tal:attributes="class event/getCssClass">
    <tal:block tal:repeat="data python:event.getDataList(resultFields)">
    <td tal:content="data">event data</td>
    </tal:block>
    <td>
        <a tal:attributes="href python:
            'javascript:popupwindow(\''+event.getEventDetailHref()
            +'\',\'ncoeventdetail'+str(event.evid)+'\',450,550)'">
            *
        </a>
    </td>
</tr>
<tr>
    <td class="tableheader" tal:attributes="colspan evcolspan">
        <span metal:use-macro=
            "here/zenTableNavigation/macros/navbodynofilter" />
    </td>
</tr>
</tal:block>
