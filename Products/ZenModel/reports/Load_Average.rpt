<tal:block metal:use-macro="here/templates/macros/page1">
<tal:block metal:fill-slot="breadCrumbPane">
    <span metal:use-macro="here/miscmacros/macros/reportBreadCrumbsList"/>    
</tal:block>
<tal:block metal:fill-slot="contentPane">
<table class="zentable" cellpadding="3" cellspacing="1"
    tal:define="
    tableName string:loadaverage;
    ztm here/ZenTableManager;
    url python:here.absolute_url()+'/'+template.getId();
    drange python: ztm.setReqTableState(tableName,'drange',129600);
    objects python:here.CricketReport.collectData(
                                    '/Devices/Server','ds0',drange);
    batch python:ztm.getBatch(tableName,objects,sortedHeader='cpumax',
                                                sortedSence='desc');
    ">
    <tr class=tabletitle>
        <th class=tabletitle align=left colspan=9>
            Report Range:
            <span tal:replace="structure python:here.scUrlPopup(
                tableName, 'perfdrange', 'drange:int', 
                here.performanceDateRanges, url)"/>
        </th>
    </tr>
    <tr>
        <th tal:replace="structure python:ztm.getTableHeader(
                    tableName,'devicename','Device')">
            Device
        </th>
        <th tal:replace="structure python:ztm.getTableHeader(
                    tableName,'devicemodel','Model')">
            Model
        </th>
        <th tal:replace="structure python:ztm.getTableHeader(
                    tableName,'dataavg','Load Average')">
            CPU Average
        </th>
        <th tal:replace="structure python:ztm.getTableHeader(
                    tableName,'datamax','Load Max')">
            CPU Max
        </th>
    </tr>
    <tr tal:repeat="ldata batch">
        <td class="tablevalues">
            <a class="tablevalues" tal:attributes="
                href python:ldata.deviceurl+'/viewPerformanceDetail'"
                tal:content="ldata/devicename">name</a>
        <td class=tablevalues tal:content="ldata/devicemodel">model</td>
        <td class=tablevalues tal:content="ldata/dataavg">average</td>
        <td class=tablevalues tal:content="ldata/datamax">max</td>
    </tr>
    <tr>
        <td colspan="4" class="tableheader" align='center'>
            <form metal:use-macro="here/miscmacros/macros/navtool"></form>
        </td>
    </tr>
</table>
</tal:block>
</tal:block>
