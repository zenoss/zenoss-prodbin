<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">


<tal:block tal:define="unused here/cacheComponents;
        tableName string:interfacelist;
        objects here/os/interfaces/objectValuesAll;
        tabletitle string:Interfaces;
        batch python:here.ZenTableManager.getBatch(tableName,objects);"
    metal:define-macro="interfaceList">

<tal:block metal:use-macro="here/zenuimacros/macros/zentable">

<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr tal:condition="batch">
        <th class="tableheader" align="center">O</th>
        <th class="tableheader" align="center">A</th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'primarySortKey','Name')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getIpSortKey','IP Address','cmp')"/>
        <th class="tableheader">Network</th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'macaddress','MAC')"/>
        <th tal:condition="here/zIfDescription"
            tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'description','Descr')"/>
    </tr>
    <tr tal:condition="not:batch">
        <th class="tableheader" align="left">
            No Interfaces
        </th>
    </tr>
    <tal:block tal:repeat="intf batch">
    <tr tal:define="odd repeat/intf/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
      <td class="tablevalues" align="center">
      <img border="0"
        tal:attributes="src python:test(intf.operStatus==1,
                'misc_/SiteScopeParser/greenball_img',
                'misc_/SiteScopeParser/redball_img')">
      </td>
      <td class="tablevalues" align="center">
      <img border="0"
        tal:attributes="src python:test(intf.adminStatus==1,
                'misc_/SiteScopeParser/greenball_img',
                'misc_/SiteScopeParser/redball_img')">
      </td>
      <td class="tablevalues">
      <a class=tablevalues tal:content="intf/name" 
        tal:attributes="href intf/getPrimaryUrlPath">eth0</a>
      </td>
      <td class="tablevalues">
          <span tal:repeat="ip intf/getIpAddressObjs" omit-tag="">
            <a class=tablevalues 
                tal:condition="python:hasattr(ip,'getIpAddress')"
                tal:content="ip/getIpAddress"
                tal:attributes="href ip/getPrimaryUrlPath">
                10.2.1.1/24</a>
            <span tal:condition="python:not hasattr(ip,'getIpAddress')"
                tal:replace="ip">1.1.1.1/24</span>
            <br/>
          </span>
      </td>
      <td class="tablevalues"
        tal:content="structure python:intf.getNetworkLinks()">
        10.2.1.0
      </td>
      <td class="tablevalues" tal:content="intf/macaddress">
         00:11:AA:BB:CC:DD
      </td>
      <td tal:condition="here/zIfDescription" 
          class="tablevalues" tal:content="intf/description">
        A really nice interface
      </td>
    </tr>
    </tal:block>
    <tr>
        <td colspan=7 class="tableheader" align='center'>
            <form metal:use-macro="here/zenTableNavigation/macros/navtool"></form>
        </td>
    </tr>
<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>

<tal:block tal:condition="here/os/winservices/countObjects"
    tal:define="tableName string:winserviceslist;
    objects here/os/winservices/objectValuesAll;
    tabletitle string:Win Services;
    batch python:here.ZenTableManager.getBatch(tableName,objects,
                                                sortedHeader='caption');">
<tal:block metal:use-macro="here/zenuimacros/macros/zentable">

<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'caption','Caption')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'startMode','StartMode')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'startName','StartName')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'name','Name')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'getStatus','Status','cmp')"/>
    </tr>
    <tal:block tal:repeat="srv batch">
    <tr tal:define="odd repeat/srv/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
        <td><a class="tablevalues" tal:content="srv/caption"
                tal:attributes="href srv/getPrimaryUrlPath">evtsys</a>
        </td>
        <td class="tablevalues" tal:content="srv/startMode"/>
        <td class="tablevalues" tal:content="srv/startName"/>
        <td class="tablevalues" tal:content="srv/name"/>
        <td tal:define="status srv/getStatus"
            tal:attributes="class python:here.getStatusCssClass(status)"
            tal:content="python:here.convertStatus(status)"/>
    </tr>
    </tal:block>
    <tr>
        <td colspan="5" class="tableheader" align='center'
			tal:define="useOnlyMonitored python:1">
            <form metal:use-macro="here/zenTableNavigation/macros/navtool"/>
        </td>
    </tr>

<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>


<tal:block tal:define="tableName string:osprocesslist;
    objects here/os/processes/objectValuesAll;
    tabletitle string:OS Processes;
    batch python:here.ZenTableManager.getBatch(tableName,objects,
                                            sortedHeader='getOSProcessClass');"
    tal:condition="objects">

<tal:block metal:use-macro="here/zenuimacros/macros/zentable">

<!--==================== 
Optional titlebar stuff

<tal:block metal:fill-slot="menuslot">
</tal:block>
<tal:block metal:fill-slot="filterslot">
</tal:block>

  ====================-->

<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getOSProcessClass','Class')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'name','Name')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'alertOnRestart','Restarts')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getFailSeverityString','Fail Severity')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'getStatus','Status','cmp')"/>
    </tr>
    <tal:block tal:repeat="proc batch">
    <tr tal:define="odd repeat/proc/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
        <td tal:content="structure proc/getOSProcessClassLink"/>
        <td><a class="tablevalues" tal:content="python:proc.name()[:50]"
                tal:attributes="href proc/getPrimaryUrlPath">evtsys</a>
        </td>
        <td tal:content="proc/alertOnRestart"/>
        <td tal:content="proc/getFailSeverityString"/>
        <td tal:define="status proc/getStatus"
            tal:attributes="class python:here.getStatusCssClass(status)"
            tal:content="python:here.convertStatus(status)"/>
    </tr>
    </tal:block>
    <tr>
        <td colspan="6" class="tableheader" align='center'>
            <form metal:use-macro="here/zenTableNavigation/macros/navtool">
            </form>
        </td>
    </tr>

<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>


<tal:block metal:define-macro="ipserviceList"
    tal:define="tableName string:ipservicelist;
    objects here/os/ipservices/objectValuesAll;
    tabletitle string:IP Services;
    batch python:here.ZenTableManager.getBatch(tableName,objects,
                                            sortedHeader='getPort');"
    tal:condition="objects">
<tal:block metal:use-macro="here/zenuimacros/macros/zentable">

<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getKeyword','Name')">Name
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getProtocol','Proto')">Proto
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getPort','Port')">Port
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'ipaddresses','Ips')">Ips
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getDescription','Description')">
                            Description
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                        tableName,'getStatus','Status','cmp')"/>
    </tr>
    <tal:block tal:repeat="srv batch">
    <tr tal:define="odd repeat/srv/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
        <td><a class="tablevalues" tal:content="srv/name"
                tal:attributes="href srv/getPrimaryUrlPath">evtsys</a>
        </td>
        <td tal:content="srv/protocol"/>
        <td tal:content="srv/port"/>
        <td>
            <span tal:omit-tag="" tal:repeat="ip srv/ipaddresses"
                tal:content="ip"/>
        </td>
        <td tal:content="srv/getDescription"/>
        <td tal:define="status srv/getStatus"
            tal:attributes="class python:here.getStatusCssClass(status)"
            tal:content="python:here.convertStatus(status)"/>
    </tr>
    </tal:block>
    <tr>
        <td colspan="6" class="tableheader" align='center'
			tal:define="useOnlyMonitored python:1">
            <form metal:use-macro="here/zenTableNavigation/macros/navtool"></form>
        </td>
    </tr>
<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>


<tal:block metal:define-macro="fileSysList"
    tal:define="tableName string:fileSyslist;
    objects here/os/filesystems/objectValuesAll;
    tabletitle string:File Systems;
    batch python:here.ZenTableManager.getBatch(tableName,objects,
                                            sortedHeader='mount');"
    tal:condition="objects">
<tal:block metal:use-macro="here/zenuimacros/macros/zentable">

<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr tal:condition="objects">
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'mount','Mount')">Mount
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'totalBytes','Total bytes')">Total Bytes
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'usedBytes','Used bytes')">Used Bytes
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'freeBytes','Free bytes')">Free Bytes
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'capacity','% Util')">% Util
        </th>
        <!--
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'storageDevice','Storage Device')">Device
        </th>
        -->
    </tr>
    <tr tal:condition="not:objects">
        <th class="tableheader" align="left">
            No File Systems
        </th>
    </tr>
    <tal:block tal:repeat="fsys batch">
    <tr tal:define="odd repeat/fsys/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
      <td class="tablevalues">
          <a class=tablevalues tal:content="fsys/mount" 
            tal:attributes="href fsys/getPrimaryUrlPath">sd0</a>
      </td>
      <td class="tablevalues"
        tal:content="fsys/totalBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/usedBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/availBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/capacity">vol
      </td>
      <!--
      <td class="tablevalues"
        tal:content="fsys/storageDevice">vol
      </td>
      -->
    </tr>
    </tal:block>
    <tr>
        <td colspan="5" class="tableheader" align='center'
			tal:define="useOnlyMonitored python:1">
            <form metal:use-macro="here/zenTableNavigation/macros/navtool">
            </form>
        </td>
    </tr>

<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>

<tal:block metal:define-macro="routeTableList"
    tal:define="tableName string:routeTablelist;
    objects here/os/routes/objectValuesAll;
    tabletitle string:Routes;
    batch python:here.ZenTableManager.getBatch(tableName,objects);">
<tal:block metal:use-macro="here/zenuimacros/macros/zentable">
<tal:block metal:fill-slot="zentablecontents">

<!-- BEGIN TABLE CONTENTS -->
    <tr tal:condition="batch">
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'primarySortKey','Destination')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getNextHopIp','NextHop')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'getInterfaceNameString','Interface')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'routeproto','Protocol')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'routetype','Type')"/>
    </tr>
    <tr tal:condition="not:batch">
        <th class="tableheader" align="left">
            No Routes
        </th>
    </tr>
    <tal:block tal:repeat="route batch">
    <tr tal:define="odd repeat/route/odd"
        tal:attributes="class python:test(odd, 'odd', 'even')">
      <td class="tablevalues" tal:content="structure route/getTargetLink"/>
      <td class="tablevalues">
          <span tal:replace="structure route/getNextHopIpLink"/>
          (<span tal:replace="structure route/getNextHopDeviceLink"/>)
      </td>
      <td class="tablevalues" tal:content="route/getInterfaceNameString"/>
      <td class="tablevalues" tal:content="route/routeproto"/>
      <td class="tablevalues" tal:content="route/routetype"/>
    </tr>
    </tal:block>
    <tr>
        <td colspan="5" class="tableheader" align='center'>
            <form metal:use-macro="here/zenTableNavigation/macros/navtool">
            </form>
        </td>
    </tr>

<!-- END TABLE CONTENTS -->

</tal:block>
</tal:block>
</tal:block>

</tal:block>
</tal:block>

